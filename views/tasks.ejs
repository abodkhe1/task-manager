<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Proveway | Task Manager App</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">


  <style>
    .gradient-btn {
  background: linear-gradient(45deg, #435c56, #30462f); /* Vibrant gradient (sunset tones) */
  color: #fff; /* White text */
  padding: 12px 25px; /* Slightly larger padding for bold look */
  border: none;
  border-radius: 50px; /* Fully rounded button */
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Soft shadow for depth */
  transition: all 0.3s ease; /* Smooth transitions */
}

.gradient-btn:hover {
  background: linear-gradient(45deg, #435c56, #30462f); /* Reverse gradient on hover */
  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.2); /* Larger shadow on hover */
  transform: translateY(-3px); /* Subtle lift effect */
}

.styled-heading {
  color: #34495e; /* Muted dark blue color */
  font-weight: 700; /* Bold font */
  letter-spacing: 1px; /* Slight spacing for clean look */
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1); /* Soft shadow for depth */
}

  </style>
</head>

<body>
  <%- include('nav') %>
    <div class="container mt-5">
      <% if (success) { %>
        <div class="alert alert-success">
          <%= success %>
        </div>
        <% } %>
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h2 class="text-center mb-0 styled-heading">Task List</h2>
          <div>
            <a href="/tasks/create" class="btn gradient-btn me-2">Create New Task</a>
            <a href="/categories" class="btn gradient-btn me-2">Create New Category</a>
          </div>
        </div>
        
                
          <table class="table table-dark table-bordered table-hover">
            <thead>
              <tr>
                <th>Title</th>
                <th>Description</th>
                <th>Status</th>
                <th>Due Date</th>
                <th>Category</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <% tasks.forEach(task=> { %>
                <tr>
                  <td>
                    <%= task.title %>
                  </td>
                  <td>
                    <%= task.description || 'N/A' %>
                  </td>
                  <td>
                    <%= task.status %>
                  </td>
                  <td>
                    <%= task.dueDate ? task.dueDate.toDateString() : 'N/A' %>
                  </td>
                  <td>
                    <%= task.category ? task.category.name : 'Uncategorized' %>
                  </td>
                  <td class="d-flex justify-content-center">
                    <!-- Edit Button -->
                    <!-- <form action="/tasks/<%= task._id %>?_method=PUT" method="POST" class="me-2"> -->
                    <a href="/task-edit/<%= task._id %>" class="btn btn-primary text-light me-2">
                      Edit
                    </a>
                    <!-- </form> -->

                    <!-- Delete Button -->
                    <form action="/tasks/<%= task._id %>?_method=DELETE" method="POST">
                      <button type="submit" class="btn btn-danger">
                        Delete
                      </button>
                    </form>
                  </td>

                </tr>
                <% }) %>
            </tbody>
          </table>

    </div>




    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"></script>
</body>

</html>
